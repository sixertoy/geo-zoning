{"version":3,"sources":["components/MarkerIcon.jsx","components/GeoMap.jsx","components/Loader.jsx","components/Welcome.jsx","App.jsx","index.js"],"names":["MarkerIcon","Leaflet","divIcon","className","html","useStyles","createUseStyles","container","composes","zIndex","GeoMap","center","useZoomControl","clases","useState","coords","setCoords","isVisible","setCircleVisibility","Map","maxZoom","minZoom","zoom","zoomControl","TileLayer","attribution","url","Circle","radius","Marker","draggable","icon","position","onMoveEnd","nextCoords","target","getLatLng","onMoveStart","ZoomControl","defaultProps","Loader","viewBox","cx","cy","r","fill","strokeWidth","button","backgroundColor","borderRadius","color","margin","padding","width","controls","marginTop","disclaimer","help","fontSize","opacity","message","paf","marginBottom","title","version","right","top","wrapper","textAlign","Welcome","onClickHandler","classes","id","style","type","onClick","PARIS_CENTER","lat","lng","App","mapCenter","setMapCenter","isClicked","setIsClicked","useGeoloc","navigator","geolocation","getCurrentPosition","latitude","longitude","err","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.24dc61ca.chunk.js","sourcesContent":["import Leaflet from \"leaflet\";\n\nconst MarkerIcon = Leaflet.divIcon({\n  className: \"leaflet-marker-divicon\",\n  html: `\n<div class=\"leaflet-marker-divicon-container\">\n  <div class=\"leaflet-marker-divicon-inner\">\n    <div class=\"leaflet-marker-divicon-pin\"></div>\n    <div class=\"leaflet-marker-divicon-pulse\"></div>\n  </div>\n</div>\n`\n});\n\nexport default MarkerIcon;\n","import PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { Circle, Map, Marker, TileLayer, ZoomControl } from 'react-leaflet';\n\nimport MarkerIcon from './MarkerIcon';\n\nconst RADIUS_METER = 100000;\nconst OSM_LAYER = 'http://a.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png';\n\nconst useStyles = createUseStyles({\n  container: {\n    composes: ['is-full-layout'],\n    zIndex: 999999,\n  },\n});\n\nconst GeoMap = ({ center, useZoomControl }) => {\n  const clases = useStyles();\n  const [coords, setCoords] = useState(center);\n  const [isVisible, setCircleVisibility] = useState(true);\n  return (\n    <div className={clases.container}>\n      <Map\n        center={center}\n        maxZoom={17}\n        minZoom={1}\n        zoom={9}\n        zoomControl={false}>\n        <TileLayer attribution=\"Open Street Map\" url={OSM_LAYER} />\n        {isVisible && <Circle center={coords} radius={RADIUS_METER} />}\n        <Marker\n          draggable\n          icon={MarkerIcon}\n          position={coords}\n          onMoveEnd={({ target }) => {\n            const nextCoords = target.getLatLng();\n            setCoords(nextCoords);\n            setCircleVisibility(true);\n          }}\n          onMoveStart={() => setCircleVisibility(false)}\n        />\n        {useZoomControl && <ZoomControl position=\"topright\" />}\n      </Map>\n    </div>\n  );\n};\n\nGeoMap.defaultProps = {\n  useZoomControl: true,\n};\n\nGeoMap.propTypes = {\n  center: PropTypes.shape({\n    lat: PropTypes.number.isRequired,\n    lng: PropTypes.number.isRequired,\n  }).isRequired,\n  useZoomControl: PropTypes.bool,\n};\n\nexport default GeoMap;\n","import React from 'react';\n\nconst Loader = () => (\n  <svg className=\"spinner\" viewBox=\"0 0 50 50\">\n    <circle className=\"path\" cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" strokeWidth=\"5\" />\n  </svg>\n);\n\nexport default (Loader);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { createUseStyles } from 'react-jss';\n\nimport { version } from '../../package.json';\n\nconst useStyles = createUseStyles({\n  button: {\n    backgroundColor: '#000',\n    borderRadius: 4,\n    color: '#FFFFFF',\n    composes: ['is-bold'],\n    margin: 12,\n    padding: '12px 24px',\n    width: 120,\n  },\n  container: {\n    color: '#FFFFFF',\n    composes: ['flex-rows', 'flex-center', 'items-center'],\n    padding: 35,\n    position: 'relative',\n  },\n  controls: {\n    composes: ['flex-columns', 'flex-center'],\n    marginTop: 20,\n  },\n  disclaimer: {\n    composes: ['is-bold'],\n    marginTop: 36,\n  },\n  help: {\n    fontSize: '0.85rem',\n    marginTop: 20,\n    opacity: 0.45,\n  },\n  message: {\n    fontSize: '1.2rem',\n    marginTop: 40,\n  },\n  paf: {\n    composes: ['is-italic'],\n    marginBottom: 12,\n  },\n  title: {\n    composes: ['is-bold'],\n  },\n  version: {\n    fontSize: '0.6rem',\n    opacity: 0.45,\n    position: 'absolute',\n    right: 10,\n    top: 10,\n  },\n  wrapper: {\n    textAlign: 'center',\n  },\n});\n\nconst Welcome = ({ onClickHandler }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.container} id=\"welcome\">\n      <div className={classes.wrapper}>\n        <h2 className={classes.title}>\n          <span>COVID19</span>\n        </h2>\n        <h1 className={classes.title}>\n          <span>Zone 100KM</span>\n        </h1>\n        <div className={classes.message}>\n          <p>\n            <span>\n              Souhaitez-vous utiliser la géolocalisation de votre téléphone ?\n            </span>\n          </p>\n        </div>\n        <div className={classes.controls}>\n          <div>\n            <button\n              className={classes.button}\n              style={{ backgroundColor: '#73C990' }}\n              type=\"button\"\n              onClick={() => onClickHandler(true)}>\n              <span>Oui</span>\n              <sup>*</sup>\n            </button>\n            <button\n              className={classes.button}\n              style={{ backgroundColor: '#E06C75' }}\n              type=\"button\"\n              onClick={() => onClickHandler(false)}>\n              <span>Non</span>\n            </button>\n          </div>\n        </div>\n        <div className={classes.help}>\n          <p className={classes.paf}>\n            <sup>*</sup>&nbsp;\n            <span>\n              La géolocation doit être activée dans les préférences de votre\n              device\n            </span>\n          </p>\n          <p className={classes.paf}>\n            Utiliser la molette de votre souris pour zoomer/dézoomer sur la\n            carte\n          </p>\n          <p className={classes.disclaimer}>\n            Cette application ne stocke aucunes de vos informations personelles\n          </p>\n        </div>\n      </div>\n      <div className={classes.version}>\n        <small>v{version}</small>\n      </div>\n    </div>\n  );\n};\n\nWelcome.propTypes = {\n  onClickHandler: PropTypes.func.isRequired,\n};\n\nexport default Welcome;\n","import React, { useState } from 'react';\n\nimport GeoMap from './components/GeoMap';\nimport Loader from './components/Loader';\nimport Welcome from './components/Welcome';\n\nconst PARIS_CENTER = {\n  lat: 48.8534,\n  lng: 2.3488,\n};\n\nconst getLatLng = position => {\n  if (\n    !position ||\n    !position.coords ||\n    !position.coords.latitude ||\n    !position.coords.longitude\n  ) {\n    return PARIS_CENTER;\n  }\n  const { latitude, longitude } = position.coords;\n  const next = { lat: latitude, lng: longitude };\n  return next;\n};\n\nconst App = () => {\n  const [mapCenter, setMapCenter] = useState(null);\n  const [isClicked, setIsClicked] = useState(false);\n  return (\n    <div id=\"app-container\">\n      {isClicked && !mapCenter && <Loader />}\n      {isClicked && mapCenter && <GeoMap center={mapCenter} />}\n      {!isClicked && !mapCenter && (\n        <Welcome\n          onClickHandler={useGeoloc => {\n            setIsClicked(true);\n            try {\n              if (!useGeoloc || !navigator.geolocation) {\n                setMapCenter(PARIS_CENTER);\n              } else {\n                navigator.geolocation.getCurrentPosition(\n                  position => setMapCenter(getLatLng(position)),\n                  () => setMapCenter(PARIS_CENTER)\n                );\n              }\n            } catch (err) {\n              setMapCenter(PARIS_CENTER);\n            }\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import './css/index.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { version } from '../package.json';\nimport App from './App';\n\n// eslint-disable-next-line\nconsole.log('Version : v', version);\n\nReactDOM.render(\n  // eslint-disable-next-line\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}